local addonName, ns = ...

--[[
-- Color the channels consistently and permanently
-- You can dump current channels with something like this:
-- for k,v in pairs(ChatTypeInfo) do
--    print( GetMessageTypeColor(k) )
-- end
--]]

local channelColors = {
	ACHIEVEMENT= {1.000000059139,1.000000059139,0},
	AFK= {1.000000059139,0.50196081399918,1.000000059139},
	BATTLEGROUND= {1.000000059139,0.49803924513981,0},
	BATTLEGROUND_LEADER= {1.000000059139,0.85882358020172,0.71764710126445},
	BG_SYSTEM_ALLIANCE= {0,0.68235298153013,0.93725495738909},
	BG_SYSTEM_HORDE= {1.000000059139,0,0},
	BG_SYSTEM_NEUTRAL= {1.000000059139,0.47058826312423,0.039215688593686},
	CHANNEL10= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL1= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL2= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL3= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL4= {1.000000059139,0.89019613107666,0.27843138901517},
	CHANNEL5= {0.8980392687954,0.60000003548339,0.34117649076506},
	CHANNEL6= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL7= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL8= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL9= {1.000000059139,0.75294122099876,0.75294122099876},
	CHANNEL= {0.75294122099876,0.50196081399918,0.50196081399918},
	CHANNEL_JOIN= {0.75294122099876,0.50196081399918,0.50196081399918},
	CHANNEL_LEAVE= {0.75294122099876,0.50196081399918,0.50196081399918},
	CHANNEL_LIST= {0.75294122099876,0.50196081399918,0.50196081399918},
	CHANNEL_NOTICE= {0.75294122099876,0.75294122099876,0.75294122099876},
	CHANNEL_NOTICE_USER= {0.75294122099876,0.75294122099876,0.75294122099876},
	COMBAT_FACTION_CHANGE= {0.50196081399918,0.50196081399918,1.000000059139},
	COMBAT_HONOR_GAIN= {0.87843142449856,0.79215690959245,0.039215688593686},
	COMBAT_MISC_INFO= {0.50196081399918,0.50196081399918,1.000000059139},
	COMBAT_XP_GAIN= {0.43529414338991,0.43529414338991,1.000000059139},
	DND= {1.000000059139,0.50196081399918,1.000000059139},
	EMOTE= {1.000000059139,0.50196081399918,0.25098040699959},
	FILTERED= {1.000000059139,0,0},
	GUILD= {0.25098040699959,1.000000059139,0.25098040699959},
	GUILD_ACHIEVEMENT= {0.25098040699959,1.000000059139,0.25098040699959},
	IGNORED= {1.000000059139,0,0},
	LOOT= {0,0.66666670609266,0},
	MONEY= {1.000000059139,1.000000059139,0},
	MONSTER_EMOTE= {1.000000059139,0.50196081399918,0.25098040699959},
	MONSTER_PARTY= {0.66666670609266,0.66666670609266,1.000000059139},
	MONSTER_SAY= {1.000000059139,1.000000059139,0.6235294486396},
	MONSTER_WHISPER= {1.000000059139,0.70980396354571,0.92156868195161},
	MONSTER_YELL= {1.000000059139,0.25098040699959,0.25098040699959},
	OFFICER= {0.75294122099876,0,0.14901961665601},
	OPENING= {0.50196081399918,0.50196081399918,1.000000059139},
	PARTY= {0.66666670609266,0.66666670609266,1.000000059139},
	PARTY_LEADER= {0.46274512540549,0.78431377187371,1.000000059139},
	PET_INFO= {0.50196081399918,0.50196081399918,1.000000059139},
	RAID= {1.000000059139,0.49803924513981,0},
	RAID_BOSS_EMOTE= {1.000000059139,0.86666671792045,0},
	RAID_BOSS_WHISPER= {1.000000059139,0.86666671792045,0},
	RAID_LEADER= {1.000000059139,0.28235295787454,0.035294119734317},
	RAID_WARNING= {1.000000059139,0.28235295787454,0},
	REPLY= {1.000000059139,0.50196081399918,1.000000059139},
	RESTRICTED= {1.000000059139,0,0},
	SAY= {1.000000059139,1.000000059139,1.000000059139},
	SKILL= {0.33333335304633,0.33333335304633,1.000000059139},
	SYSTEM= {1.000000059139,1.000000059139,0},
	TEXT_EMOTE= {1.000000059139,0.50196081399918,0.25098040699959},
	TRADESKILLS= {1.000000059139,1.000000059139,1.000000059139},
	WHISPER= {1.000000059139,0.50196081399918,1.000000059139},
	WHISPER_INFORM= {1.000000059139,0.50196081399918,1.000000059139},
	YELL= {1.000000059139,0.25098040699959,0.25098040699959},
}

local function SetChannelColors()
	-- Channel colors
	for k,v in pairs(channelColors) do 
		ChangeChatColor(tostring(k), v[1], v[2], v[3])
	end
end

local function SetColorNameByClass()
	-- for k,v in pairs(ChatTypeInfo) do
	for k,v in pairs(channelColors) do 
		SetChatColorNameByClass(tostring(k), 1)
	end
end

local f = CreateFrame("Frame")
f:SetScript("OnEvent", function(self, event, ...) if self[event] then return self[event](self, event, ...) end end)
f:RegisterEvent("PLAYER_LOGIN")
f:RegisterEvent("CHAT_MSG_CHANNEL_NOTICE")

function f:PLAYER_LOGIN()
	SetChannelColors()
	SetColorNameByClass()

	self:UnregisterEvent("PLAYER_LOGIN")
	self.PLAYER_LOGIN = nil
end

